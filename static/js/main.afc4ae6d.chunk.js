(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(5),r=a.n(l),s=a(2),o=a(1),i="https://namu.wiki/w/%EB%AA%AC%ED%8B%B0%20%ED%99%80%20%EB%AC%B8%EC%A0%9C";var u,m,f=function(){return c.a.createElement("div",{className:"flex flex-col p-16"},c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("p",{className:"font-bold text-4xl"},"MondyHall Pdx"),c.a.createElement("div",{className:"w-full flex justify-end"},c.a.createElement("span",{className:"mt-2 p-1 text-sm hover:bg-yellow-200 hover:ring-1 ring-yellow-500 rounded-lg duration-300",onClick:function(){window.open(i,"_blank")}},"\ubaac\ud2f0\ud640\uc758 \uc5ed\uc124\uc774\ub780 ?"))))};!function(e){e.GOAT="\uc5fc\uc18c",e.CAR="\ucc28"}(u||(u={})),function(e){e[e.READY=0]="READY",e[e.RUNNING=1]="RUNNING",e[e.FINISH=2]="FINISH"}(m||(m={}));var S;!function(e){e.LS_RESULTS_CHANGED="LS_RESULTS_CHANGED",e.LS_RESULTS_NOT_CHANGED="LS_RESULTS_NOT_CHANGED",e.RESULT_FAIL="0",e.RESULT_SUCCESS="1"}(S||(S={}));var E=function(e){var t=e.gameState,a=e.typeChange,n=e.setTypeChange,l=t===m.RUNNING;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",{className:"flex justify-center my-2"},c.a.createElement("span",null,"\ucc98\uc74c \uc120\ud0dd\uc744 \ubc14\uafb8\uaca0\uc2b5\ub2c8\uae4c?")),c.a.createElement("div",{className:"buttonSetChangeType w-72 ".concat(!l&&"editable")},c.a.createElement("button",{disabled:l,className:"change ".concat(!0!==a&&"select"),onClick:function(){n(!0)}},"\ubc14\uafbc\ub2e4"),c.a.createElement("button",{disabled:l,className:"notChange ".concat(!1!==a&&"select"),onClick:function(){n(!1)}},"\ubc14\uafb8\uc9c0 \uc54a\ub294\ub2e4")))},N=a(3),b=a(6),d=a.n(b),v=function(e){var t=e.clickAction,a=e.isUserSel,n=e.isHostSel;return c.a.createElement("div",{className:"container-room door ".concat(a?"userSel":""," ").concat(n?"hostSel":""),onClick:function(){t()}})},g=function(e){var t=e.value,a=e.isUserSel,n=e.isHostSel;return c.a.createElement("div",{className:"container-room inside ".concat(a?"userSel":""," ").concat(n?"hostSel":"")},c.a.createElement("p",null,t))},p=function(e){var t=e.roomState,a=e.clickAction;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement(d.a,{isFlipped:t.isOpen},c.a.createElement(v,{clickAction:a,isUserSel:t.isUserSel,isHostSel:t.isHostSel}),c.a.createElement(g,{value:t.value,isUserSel:t.isUserSel,isHostSel:t.isHostSel})),c.a.createElement("div",{className:"flex justify-center mt-4"},function(){var e="",a="";return t.isHostSel?(e="text-green-500",a="\uc0ac\ud68c\uc790"):t.isUserSel&&(e="text-blue-500",a="\uc120\ud0dd\ud55c \ubc29"),c.a.createElement("span",{className:"text-lg ".concat(e)},a)}()))},x={value:u.GOAT,isOpen:!1,isUserSel:!1,isHostSel:!1},O=function(){for(var e=[],t=0;t<3;t++)e.push(x);return e},C=function(e){var t=e.gameState,a=e.typeChange,l=e.throwGameError,r=e.setGameResult,i=e.setGameState,f=Object(n.useState)("\uc548\ub155\ud558\uc138\uc694"),S=Object(o.a)(f,2),E=S[0],b=S[1],d=Object(n.useState)(O()),v=Object(o.a)(d,2),g=v[0],x=v[1],C=Object(n.useState)(-1),U=Object(o.a)(C,2),j=U[0],h=U[1],R=Object(n.useState)(-1),A=Object(o.a)(R,2),G=A[0],T=A[1],_=Object(n.useState)(!1),y=Object(o.a)(_,2),L=y[0],I=y[1];console.log("GameStage",t.toString(),g),Object(n.useEffect)(function(){t===m.RUNNING?(x(O()),H(),h(0)):w()},[t]),Object(n.useEffect)(function(){if(0===j)I(!0),b("3\uac1c\uc758 \ubc29 \uc911 \ucc28\uac00 \ub4e4\uc5b4\uc788\uc744\uac83 \uac19\uc740 \ubc29\uc744 \uace0\ub974\uc138\uc694");else if(1===j){I(!1);var e=function(e){var t=-1;return e.map(function(e,a){e.isUserSel||e.value===u.CAR||(t=a)}),t}(g);(e<0||e>=3)&&l("\uc0ac\ud68c\uc790\uac00 \uc5f4 \ubb38\uc744 \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),b("\uc0ac\ud68c\uc790\uac00 \uc5fc\uc18c\uac00 \ub4e4\uc5b4\uc788\ub294 \ubc29\uc758 \ubb38\uc744 \uc5fd\ub2c8\ub2e4"),setTimeout(function(){var t=Object(s.a)(g);if(t[e]=Object(N.a)({},g[e],{isOpen:!0,isHostSel:!0}),x(t),a){var n=G,c=function(e,t){var a=-1;return e.map(function(e,n){e.isUserSel||n===t||(a=n)}),a}(g,e);b("\ub2f9\uc2e0\uc740 \uc120\ud0dd\uc744 \ubc14\uafe8\uc2b5\ub2c8\ub2e4"),setTimeout(function(){var e=Object(s.a)(t);e[n]=Object(N.a)({},g[n],{isUserSel:!1}),e[c]=Object(N.a)({},g[c],{isUserSel:!0}),x(e),T(c),h(j+1)},1e3)}else b("\ub2f9\uc2e0\uc740 \uc120\ud0dd\uc744 \ubc14\uafb8\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"),h(j+1)},1500)}else 2===j&&setTimeout(function(){D(G,!0),console.log(G,g),!function(e,t){var a=!1;return e.map(function(e,n){e.value===u.CAR&&n===t&&(a=!0)}),a}(g,G)?(b("\uc2e4\ud328"),r(!1)):(b("\uc131\uacf5"),r(!0)),i(m.FINISH)},1500)},[j]);var H=function(){var e=function(){for(var e,t=[],a=Math.floor(3*Math.random()),n=0;n<3;n++)e=n===a?u.CAR:u.GOAT,t.push({value:e,isOpen:!1,isUserSel:!1,isHostSel:!1});return t}();x(e),h(0),I(!0)},w=function(){},D=function(e,a){if(t===m.RUNNING){var n=Object(s.a)(g);n[e]=Object(N.a)({},g[e],{isOpen:!0}),x(n)}},k=function(e){t===m.RUNNING&&L&&!g[e].isOpen&&0===j&&(!function(e,a){if(t===m.RUNNING){var n=Object(s.a)(g);n[e]=Object(N.a)({},g[e],{isUserSel:a}),x(n)}}(e,!0),T(e),h(j+1))};return c.a.createElement("div",{className:"flex flex-col my-8 p-8"},c.a.createElement("div",{className:"flex justify-center"},g.map(function(e,t){return function(e){return c.a.createElement(p,{roomState:g[e],clickAction:function(){k(e)}})}(t)})),c.a.createElement("div",{className:"flex my-4 justify-center"},c.a.createElement("span",{className:"font-semibold text-2xl"},t?E:"")))},U=function(e,t){var a=0;e.forEach(function(e){e&&(a+=1)});var n=e.length>0?"".concat((a/e.length*100).toFixed(2),"%"):"0%";return c.a.createElement("div",{className:"flex flex-col items-center p-4 bg-gray-200 rounded-lg mx-2"},c.a.createElement("div",{className:"flex flex-col p-4 border-b border-gray-500"},c.a.createElement("span",{className:"text-center text-semibold text-xl text-gray-600"},t),c.a.createElement("span",{className:"text-right text-gray-600 text-sm"},n)),c.a.createElement("div",{className:"flex flex-col p-4"},e.map(function(e){return function(e){return c.a.createElement("span",{className:"".concat(e?"text-blue-500":"text-red-500")},e?"\uc131\uacf5":"\uc2e4\ud328")}(e)})))},j=function(e){var t=e.resultsChanged,a=e.resultsNotChanged;return 0===t.length&&0===a.length?c.a.createElement("div",null):c.a.createElement("div",{className:"flex justify-center"},U(t,"\ubc14\uafbc \uacb0\uacfc"),U(a,"\ubc14\uafb8\uc9c0 \uc54a\uc740 \uacb0\uacfc"))},h=function(e){var t=[],a=localStorage.getItem(e);null!==a&&Array.from(a).forEach(function(e){e===S.RESULT_SUCCESS?t.push(!0):e===S.RESULT_FAIL&&t.push(!1)});return t},R=function(e,t){var a="";t.forEach(function(e){a+=e?S.RESULT_SUCCESS:S.RESULT_FAIL}),localStorage.setItem(e,a)},A=function(){console.log("GAME MAIN");var e=Object(n.useState)(m.READY),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],N=i[1],b=Object(n.useState)(!1),d=Object(o.a)(b,2),v=d[0],g=d[1],p=Object(n.useState)([]),x=Object(o.a)(p,2),O=x[0],U=x[1],A=Object(n.useState)([]),G=Object(o.a)(A,2),T=G[0],_=G[1];Object(n.useEffect)(function(){return y(),function(){L()}},[]),Object(n.useEffect)(function(){a===m.FINISH&&(u?U([].concat(Object(s.a)(O),[v])):_([].concat(Object(s.a)(T),[v])))},[a]);var y=function(){U(h(S.LS_RESULTS_CHANGED)),_(h(S.LS_RESULTS_NOT_CHANGED))},L=function(){R(S.LS_RESULTS_CHANGED,O),R(S.LS_RESULTS_NOT_CHANGED,T)};return c.a.createElement("div",{className:"center flex flex-col items-center shadow-lg shadow-blue-600 border p-4"},c.a.createElement(f,null),c.a.createElement(E,{gameState:a,typeChange:u,setTypeChange:N}),c.a.createElement(C,{gameState:a,typeChange:u,throwGameError:function(e){l(m.READY),alert(e)},setGameResult:g,setGameState:l}),c.a.createElement("button",{className:"px-4 py-2 mb-4 ".concat(a===m.RUNNING?"bg-red-400":"bg-green-400"," font-semibold"),onClick:function(){a===m.RUNNING?l(m.READY):l(m.RUNNING)}},a===m.RUNNING?"\uc885\ub8cc":"\uc2dc\uc791"),c.a.createElement("div",{className:"flex flex-col items-center px-2 py-6 bg-gray-50 rounded-lg"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("button",{className:"px-4 py-2 mx-2 bg-gray-400 rounded-full",onClick:function(){localStorage.removeItem(S.LS_RESULTS_CHANGED),localStorage.removeItem(S.LS_RESULTS_NOT_CHANGED)}},"\uacb0\uacfc \ucd08\uae30\ud654"),c.a.createElement("button",{className:"px-4 py-2 mx-2 bg-blue-400 rounded-full",onClick:function(){L(),alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}},"\uacb0\uacfc \uc800\uc7a5")),c.a.createElement(j,{resultsChanged:O,resultsNotChanged:T})))};var G=function(){return c.a.createElement("div",{className:"w-full flex flex-col items-center"},c.a.createElement(A,null))},T=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,18)).then(function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),l(e),r(e)})};a(15);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),T()},7:function(e,t,a){e.exports=a(17)}},[[7,3,2]]]);
//# sourceMappingURL=main.afc4ae6d.chunk.js.map